<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="UNIAENE - Fa√ßa parte dessa hist√≥ria">
    <meta name="author" content="UNIAENE">
    <title>UNIAENE - Centro Universit√°rio Adventista de Ensino do Nordeste</title>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
    <meta name="theme-color" content="#ffffff">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:400,500,600" rel="stylesheet">

    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/menu.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/vendors.css" rel="stylesheet">

    <style>
        .radio-inline {
            display: flex;
            align-items: center;
        }

        .radio-inline input {
            margin-right: 10px;
        }
    </style>
</head>

<body>

    <nav>
        <ul class="cd-primary-nav">
            <li><a href="https://www.adventista.edu.br/" target="_blank" class="animated_link">Site Oficial</a></li>
            <li><a href="https://www.instagram.com/uniaene" target="_blank" class="animated_link">Instagram</a></li>
            <li><a href="https://www.youtube.com/channel/UC6GjhC0KktsGmiPtJ92mVdQ" target="_blank"
                    class="animated_link">YouTube</a></li>
            <li><a href="https://www.facebook.com/FaculdadeAdventista" target="_blank"
                    class="animated_link">Facebook</a></li>
            <li><a href="https://twitter.com/fac_adventista" target="_blank" class="animated_link">X (Twitter)</a></li>
        </ul>
    </nav>

    <div class="container-fluid full-height">
        <div class="row row-height">
            <!-- LADO ESQUERDO -->
            <div class="col-lg-6 content-left image-left">
                <div class="content-left-wrapper">
                    <a href="./" id="logo" class="d-none d-sm-block">
                        <img src="assets/images/logo-azul.png" alt="UNIAENE" height="70">
                    </a>
                    <a href="./" id="logo" class="d-block d-sm-none">
                        <img src="assets/images/logo-azul.png" alt="UNIAENE" height="35">
                    </a>

                    <div id="social">
                        <ul>
                            <li><a href="https://www.instagram.com/uniaene" target="_blank"><i
                                        class="bi bi-instagram text-dark"></i></a></li>
                            <li><a href="https://www.youtube.com/channel/UC6GjhC0KktsGmiPtJ92mVdQ" target="_blank"><i
                                        class="bi bi-youtube text-dark"></i></a></li>
                            <li><a href="https://www.facebook.com/FaculdadeAdventista" target="_blank"><i
                                        class="bi bi-facebook text-dark"></i></a></li>
                        </ul>
                    </div>

                    <div>
                        <h1 class="fw-bold">UNIAENE</h1>
                        <p>Fa√ßa parte dessa hist√≥ria</p>
                        <a href="https://www.adventista.edu.br/" class="btn_1 rounded mb-2"
                            style="background: yellow; color: black;" target="_blank"><i class="bi bi-link"></i> Visite
                            nosso site</a>
                        <a href="https://www.instagram.com/uniaene" class="btn_1 rounded mb-2"
                            style="background: yellow; color: black;" target="_blank"><i class="bi bi-instagram"></i>
                            Siga-nos no Instagram</a>
                        <a href="https://www.youtube.com/watch?v=RIshmy59gC4" class="btn_1 rounded mb-2"
                            style="background: cyan; color: black;" target="_blank"><i
                                class="bi bi-youtube text-danger"></i> Assista ao nosso clipe</a>
                    </div>

                    <div class="copy">¬©
                        <script>document.write(new Date().getFullYear())</script> UNIAENE
                    </div>
                </div>
            </div>

            <!-- LADO DIREITO -->
            <div class="col-lg-6 content-right" id="start">
                <div id="wizard_container" class="p-4 shadow rounded bg-white" style="max-width: 600px; margin: auto;">
                    <h3 class="fw-bold text-center mb-4">Cadastro UNIAENE</h3>

                    <form id="leadForm">
                        <!-- Local -->
                        <div class="mb-3">
                            <label for="local" class="form-label">Local</label>
                            <select class="form-select" id="local" name="local" required>
                                <option value="">Carregando locais...</option>
                            </select>
                        </div>

                        <!-- Nome -->
                        <div class="mb-3">
                            <label for="fullname" class="form-label">Nome completo</label>
                            <input type="text" id="fullname" name="fullname" class="form-control"
                                placeholder="Digite seu nome completo" required>
                        </div>

                        <!-- E-mail -->
                        <div class="mb-3">
                            <label for="email" class="form-label">E-mail</label>
                            <input type="email" id="email" name="email" class="form-control"
                                placeholder="Digite seu e-mail" required>
                        </div>

                        <!-- WhatsApp -->
                        <div class="mb-3">
                            <label for="whatsapp" class="form-label">WhatsApp</label>
                            <input type="text" id="whatsapp" name="whatsapp" class="form-control phone"
                                placeholder="+00 (00) 00000-0000" required>
                            <small class="text-muted">Pode ser o WhatsApp dos respons√°veis</small>
                        </div>

                        <!-- Curso -->
                        <div class="mb-3">
                            <label class="form-label">Curso de interesse</label>
                            <div class="row">
                                <div class="col-md-6">
                                    <!-- <div><input type="radio" name="course" value="Administra√ß√£o" required> Administra√ß√£o</div> -->
                                     <div><input type="radio" name="course" value="Col√©gio UNIAENE"> Col√©gio UNIAENE</div>
                                    <div><input type="radio" name="course" value="Ci√™ncias Cont√°beis"> Ci√™ncias Cont√°beis</div>
                                    <div><input type="radio" name="course" value="Direito"> Direito</div>
                                    <div><input type="radio" name="course" value="Enfermagem"> Enfermagem</div>
                                    <div><input type="radio" name="course" value="Fisioterapia"> Fisioterapia</div>
                                    <div><input type="radio" name="course" value="GTI"> GTI</div>
                                    <div><input type="radio" name="course" value="Medicina Veterin√°ria"> Medicina Veterin√°ria</div>
                                    <div><input type="radio" name="course" value="Nutri√ß√£o"> Nutri√ß√£o</div>
                                    <div><input type="radio" name="course" value="Odontologia"> Odontologia</div>
                                    <div><input type="radio" name="course" value="Pedagogia"> Pedagogia</div>
                                    <div><input type="radio" name="course" value="Psicologia"> Psicologia</div>
                                    <div><input type="radio" name="course" value="Teologia"> Teologia</div>
                                    <div><input type="radio" name="course" value="P√≥s-Gradua√ß√£o"> P√≥s-Gradua√ß√£o</div>
                                    <div><input type="radio" name="course" value="Cursos Livres"> Cursos Livres</div>
                                </div>
                                <div class="col-md-6">
                                </div>
                            </div>
                        </div>

                        <!-- Termos -->
                        <div class="form-check mb-4">
                            <input type="checkbox" class="form-check-input" id="terms" name="terms" required>
                            <label class="form-check-label" for="terms">Aceito compartilhar meus dados</label>
                        </div>

                        <!-- Bot√£o de envio -->
                        <div class="text-center">
                            <button type="submit" class="btn btn-warning btn-lg w-100 fw-bold text-dark">Enviar
                                cadastro</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>

    <!-- JS -->
    <!-- üîΩ Scripts e depend√™ncias -->
    <!-- JS Essenciais -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Script principal -->
    <script>
        const API_URL = "http://localhost:3000";

        document.addEventListener("DOMContentLoaded", async () => {
            console.log("üöÄ Script carregado...");

            const selectLocal = document.getElementById("local");
            const form = document.getElementById("leadForm");

            // 1Ô∏è‚É£ Carregar locais
            try {
                const res = await fetch(`${API_URL}/locals`);
                const locais = await res.json();
                console.log("üì¶ Locais recebidos:", locais);
                selectLocal.innerHTML = '<option value="">Selecione o local</option>';
                locais.forEach(l => {
                    const opt = document.createElement("option");
                    opt.value = l.local || l.id || "";
                    opt.textContent = l.local || "Sem nome";
                    selectLocal.appendChild(opt);
                });
            } catch (err) {
                console.error("‚ùå Erro ao carregar locais:", err);
                selectLocal.innerHTML = '<option value="">Erro ao carregar locais</option>';
            }

            // 2Ô∏è‚É£ M√°scara de telefone
            const SPMaskBehavior = val =>
                val.replace(/\D/g, "").length === 11
                    ? "(00) 00000-0000"
                    : "(00) 0000-00009";
            const spOptions = {
                onKeyPress: function (val, e, field, options) {
                    field.mask(SPMaskBehavior.apply({}, arguments), options);
                },
            };
            // $(".phone").mask(SPMaskBehavior, spOptions);

            // 3Ô∏è‚É£ Envio do formul√°rio
            form.addEventListener("submit", async (e) => {
                e.preventDefault();

                const data = {
                    fullname: form.fullname.value.trim(),
                    email: form.email.value.trim(),
                    whatsapp: form.whatsapp.value.trim(),
                    course: form.course.value,
                    local: form.local.value
                };

                if (!data.fullname || !data.email || !data.whatsapp || !data.course || !data.local) {
                    alert("‚ö†Ô∏è Por favor, preencha todos os campos obrigat√≥rios.");
                    return;
                }

                try {
                    const res = await fetch(`${API_URL}/leads`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify(data)
                    });
                    const result = await res.json();
                    if (result.success) {
                        alert("üéâ Cadastro realizado com sucesso!");
                        form.reset();
                    } else {
                        alert("‚ö†Ô∏è Erro: " + (result.error || "Falha ao enviar os dados."));
                    }
                } catch (err) {
                    console.error("‚ùå Erro de conex√£o:", err);
                    alert("‚ùå Erro de conex√£o com o servidor. Tente novamente.");
                }
            });
        });
    </script>

    <script>
        // Remove o preloader depois que toda a p√°gina carregar
        window.addEventListener("load", function () {
            const preloader = document.getElementById("preloader");
            const loaderForm = document.getElementById("loader_form");

            if (preloader) {
                preloader.style.transition = "opacity 0.5s ease";
                preloader.style.opacity = "0";
                setTimeout(() => preloader.remove(), 500);
            }

            if (loaderForm) {
                loaderForm.style.transition = "opacity 0.5s ease";
                loaderForm.style.opacity = "0";
                setTimeout(() => loaderForm.remove(), 500);
            }

            document.body.style.overflow = "visible";
            console.log("‚úÖ Preloader removido");
        });
    </script>




</body>

</html>